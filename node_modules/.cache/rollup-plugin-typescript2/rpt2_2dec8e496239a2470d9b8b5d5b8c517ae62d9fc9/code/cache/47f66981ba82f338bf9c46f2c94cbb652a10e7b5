{"code":"// createVNode  创建虚拟节点\r\nimport { isArray, isObject, isString } from '@vue/shared/src';\r\nexport function isVnode(vnode) {\r\n    return vnode.__v_isVnode;\r\n}\r\n// h(‘div',{style:{color:red}},'children'); //  h方法和createApp类似\r\nexport const createVnode = (type, props, children = null) => {\r\n    // 可以根据type 来区分是组件 还是普通的元素\r\n    // 根据type来区分 是元素还是组件\r\n    // 给虚拟节点加一个类型\r\n    const shapeFlag = isString(type)\r\n        ? 1 /* ShapeFlags.ELEMENT */\r\n        : isObject(type)\r\n            ? 4 /* ShapeFlags.STATEFUL_COMPONENT */\r\n            : 0;\r\n    const vnode = {\r\n        // 一个对象来描述对应的内容 ， 虚拟节点有跨平台的能力\r\n        __v_isVnode: true,\r\n        type,\r\n        props,\r\n        children,\r\n        component: null,\r\n        el: null,\r\n        key: props && props.key,\r\n        shapeFlag, // 判断出当前自己的类型 和 儿子的类型\r\n    };\r\n    normalizeChildren(vnode, children);\r\n    return vnode;\r\n};\r\nfunction normalizeChildren(vnode, children) {\r\n    let type = 0;\r\n    if (children == null) {\r\n        // 不对儿子进行处理\r\n    }\r\n    else if (isArray(children)) {\r\n        type = 16 /* ShapeFlags.ARRAY_CHILDREN */;\r\n    }\r\n    else {\r\n        type = 8 /* ShapeFlags.TEXT_CHILDREN */;\r\n    }\r\n    vnode.shapeFlag |= type;\r\n}\r\nexport const Text = Symbol('Text');\r\nexport function normalizeVNode(child) {\r\n    if (isObject(child))\r\n        return child;\r\n    return createVnode(Text, null, String(child));\r\n}\r\n//# sourceMappingURL=vnode.js.map","references":["/Users/pangjianfeng/code/pf-vue3-source/vue3-render/packages/shared/src/index.ts"],"map":"{\"version\":3,\"file\":\"vnode.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/runtime-core/src/vnode.ts\"],\"names\":[],\"mappings\":\"AAAA,sBAAsB;AAEtB,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAc,MAAM,iBAAiB,CAAC;AAE1E,MAAM,UAAU,OAAO,CAAC,KAAK;IAC3B,OAAO,KAAK,CAAC,WAAW,CAAC;AAC3B,CAAC;AACD,+DAA+D;AAC/D,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,GAAG,IAAI,EAAE,EAAE;IAC1D,0BAA0B;IAE1B,oBAAoB;IAEpB,aAAa;IACb,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC9B,CAAC;QACD,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,CAAC,CAAC,CAAC,CAAC;IAEN,MAAM,KAAK,GAAG;QACZ,6BAA6B;QAC7B,WAAW,EAAE,IAAI;QACjB,IAAI;QACJ,KAAK;QACL,QAAQ;QACR,SAAS,EAAE,IAAI;QACf,EAAE,EAAE,IAAI;QACR,GAAG,EAAE,KAAK,IAAI,KAAK,CAAC,GAAG;QACvB,SAAS,EAAE,qBAAqB;KACjC,CAAC;IACF,iBAAiB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IACnC,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,SAAS,iBAAiB,CAAC,KAAK,EAAE,QAAQ;IACxC,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,QAAQ,IAAI,IAAI,EAAE;QACpB,WAAW;KACZ;SAAM,IAAI,OAAO,CAAC,QAAQ,CAAC,EAAE;QAC5B,IAAI,qCAA4B,CAAC;KAClC;SAAM;QACL,IAAI,mCAA2B,CAAC;KACjC;IACD,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC;AAC1B,CAAC;AACD,MAAM,CAAC,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;AACnC,MAAM,UAAU,cAAc,CAAC,KAAK;IAClC,IAAI,QAAQ,CAAC,KAAK,CAAC;QAAE,OAAO,KAAK,CAAC;IAElC,OAAO,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAChD,CAAC\"}"}
